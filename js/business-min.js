var BUSINESS=function($,e,s,t){var i,n={},a="#wf-form-Update-Active-Businesses-Form";return n.membersBusinessLimit=6,n.checkBusinessLimits=function(e,s){USER.getMemberPlans(!1,!1,!0);return i=n.membersBusinessLimit,s&&(e=HELP.filterArrayByObjectValue(e,"state","active")),e.length-i},n.updateActiveBusinesses=function(e){var s=HELP.pluralize(i,"business","businesses"),t=$(a),n=t.find(".js-business");t.find(".js-num-businesses").text(s),$(".form-job-step-2, #business-form-wrapper").remove(),n.hide(),$.each(e,(function(e,s){var i=n.clone().show(),a=s.registeredName?` (${s.registeredName})`:"";$(".js-business-name",i).text(`${s.tradingName}${a}`),$('[type="checkbox"]',i).attr("name","businesses[]").val(s.itemId),t.find(".checkbox-list").append(i)})),MAIN.openLitbox({title:"Update active businesses",href:"#update-businesses-form-wrapper",css:{xxs:{maxWidth:700}}})},n.maxBusinessesReached=function(){$("#business-form-wrapper").remove(),MAIN.dialog({message:"[p]You have reached the maximum number of businesses allowed per account. If you need to increase this limit, please contact us.[/p]",type:"success",mode:"dialog",options:{title:"Business limit reached",actions:[{type:"button",text:"OK",attributes:{class:"button-primary trigger-lbox-close",href:"#"}}]}})},n.formValidateActiveBusinesses=function(){var e=$(a),s=HELP.pluralize(i,"business","businesses"),t=e.find('[type="checkbox"]:checked');return!(t.length<1||t.length>i)||(alert(`Please${t.length>i?" only":""} select ${s} that you want to remain active.`),!1)},n}(jQuery,0,this.document);